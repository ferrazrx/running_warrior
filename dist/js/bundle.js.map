{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/main.js"],"names":["window","onload","assets","KEY_CODE_LEFT","KEY_CODE_RIGHT","KEY_CODE_SPACE","spriteSheet","breathing","jump","arrow","stage","viking","grounds","trees","arrows","castle","arrowTargets","rocks","clouds","isVikingMoving","isVikingDown","arrowsDecoration","keyPressedLeft","keyPressedRight","logo","props","metters","gameStarted","gameOver","gameRestarted","gameOverImage","scoreText","bestScoreText","gameSpeed","text","progress","createjs","Stage","document","getElementById","manifest","src","callback","type","preload","LoadQueue","Sound","alternateExtensions","registerPlugins","HTMLAudioPlugin","installPlugin","on","handleFileLoad","handleComplete","handleProgress","loadManifest","event","push","console","log","loaded","toFixed","circle","Shape","Text","graphics","beginFill","drawCircle","canvas","height","x","width","y","getBounds","addChild","update","removeAllChildren","i","length","result","item","id","PlayPropsConfig","set","interrupt","INTERRUPT_ANY","loop","volume","play","initScene","keyDownHandler","e","keyCode","jumpViking","keyUpHandler","handleStart","setTimeout","setVolume","Tween","get","to","alpha","scaleX","scaleY","Ease","getPowInOut","start","resetGame","colisionDetect","caracter","objects","speedImpact","react","forEach","object","rotation","handleGameOver","saveScore","getScore","moveViking","speed","initialVikingY","moveInCanvas","distance","increaseSpeed","tick","ground","tree","target","rock","cloud","score","localStorage","getItem","lastScore","parseFloat","setItem","onkeyup","onkeydown","onclick","mouseX","Sprite","Math","random","t","setBounds","regX","regY","addEventListener","Ticker","timingMode","RAF"],"mappings":"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","file":"./js/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./lib/main.js\");\n","window.onload = () => {\n  const assets = [],\n    KEY_CODE_LEFT = 37,\n    KEY_CODE_RIGHT = 39,\n    KEY_CODE_SPACE = 32;\n  let spriteSheet = null;\n  let breathing = null;\n  let jump = null;\n  let arrow = null;\n  let stage = null;\n  let viking;\n  let grounds = [];\n  let trees = [];\n  let arrows = [];\n  let castle;\n  let arrowTargets = [];\n  let rocks = [];\n  let clouds = [];\n  let isVikingMoving = false;\n  let isVikingDown = false;\n  let arrowsDecoration = [];\n  let keyPressedLeft = false;\n  let keyPressedRight = false;\n  let logo, props;\n  let metters = 0;\n  let gameStarted = false;\n  let gameOver = 0;\n  let gameRestarted = 0;\n  let gameOverImage = null;\n  let scoreText = null;\n  let bestScoreText = null;\n  let gameSpeed = 0;\n  let text;\n  let progress;\n\n  stage = new createjs.Stage(document.getElementById(\"canvas\"));\n\n  const manifest = {\n    src: \"assets/manifest.json\",\n    callback: \"loadSounds\",\n    type: \"manifest\"\n  };\n\n  preload = new createjs.LoadQueue(true);\n  createjs.Sound.alternateExtensions = [\"mp3\", \"wav\"];\n\n  createjs.Sound.registerPlugins([createjs.HTMLAudioPlugin]); // need this so it doesn't default to Web Audio\n  preload.installPlugin(createjs.Sound);\n\n  preload.on(\"fileload\", handleFileLoad);\n  preload.on(\"complete\", handleComplete);\n  preload.on(\"progress\", handleProgress);\n  preload.loadManifest(manifest, true, \"./\");\n\n  function handleFileLoad(event) {\n    assets.push(event);\n  }\n\n  function handleProgress(event) {\n    console.log(event.loaded.toFixed(2));\n    progress = event.loaded.toFixed(2);\n\n    let circle = new createjs.Shape();\n    let text = new createjs.Text(\n      `${(progress * 100).toFixed(0)}%`,\n      \"60px impact\",\n      \"#FFF\"\n    );\n    console.log(text);\n    circle.graphics\n      .beginFill(\"#000\")\n      .drawCircle(0, 0, stage.canvas.height * progress + 15);\n    circle.x = stage.canvas.width / 2;\n    circle.y = stage.canvas.height / 2;\n    text.x = stage.canvas.width / 2 - text.getBounds().width / 2;\n    text.y = stage.canvas.height / 2;\n    stage.addChild(circle, text);\n    stage.update();\n    stage.removeAllChildren();\n  }\n\n  function handleComplete() {\n    for (let i = 0; i < assets.length; i++) {\n      let event = assets[i];\n      let result = event.result;\n      switch (event.item.id) {\n        case \"runner_sheet\":\n          spriteSheet = result;\n          break;\n        case \"music\":\n          props = new createjs.PlayPropsConfig().set({\n            interrupt: createjs.Sound.INTERRUPT_ANY,\n            loop: -1,\n            volume: 0.2\n          });\n          createjs.Sound.play(\"music\", props);\n          break;\n        case \"jump\":\n          jump = result;\n          break;\n        case \"breathing\":\n          breathing = result;\n          break;\n      }\n    }\n\n    initScene();\n  }\n\n  // Code from the lesson\n  function keyDownHandler(e) {\n    switch (e.keyCode) {\n      case KEY_CODE_LEFT:\n        keyPressedLeft = true;\n        break;\n      case KEY_CODE_RIGHT:\n        keyPressedRight = true;\n        break;\n      case KEY_CODE_SPACE:\n        if (!isVikingDown && gameStarted) {\n          jumpViking();\n        }\n        break;\n    }\n  }\n  function jumpViking() {\n    if (gameStarted && gameOver == 0) {\n      props = new createjs.PlayPropsConfig().set({\n        interrupt: createjs.Sound.INTERRUPT_ANY,\n        loop: 0,\n        volume: 1\n      });\n      createjs.Sound.play(\"jump\", props);\n      isVikingMoving = true;\n    }\n  }\n\n  function keyUpHandler(e) {\n    switch (e.keyCode) {\n      case KEY_CODE_LEFT:\n        keyPressedLeft = false;\n        break;\n      case KEY_CODE_RIGHT:\n        keyPressedRight = false;\n        break;\n    }\n  }\n\n  function handleStart() {\n    setTimeout(() => {\n      if (!gameRestarted) {\n        if (!arrow) {\n          props = new createjs.PlayPropsConfig().set({\n            interrupt: createjs.Sound.INTERRUPT_ANY,\n            loop: -1,\n            volume: 1\n          });\n          arrow = createjs.Sound.play(\"arrow\", props);\n        } else {\n          arrow.setVolume(1);\n        }\n        console.log(\"Game Started\");\n        createjs.Tween.get(gameOverImage, { loop: false }).to({ alpha: 0 }, 10);\n        createjs.Tween.get(logo, { loop: false })\n          .to({ scaleX: 1.1, scaleY: 1.1 }, 600)\n          .to({ alpha: 0 }, 600, createjs.Ease.getPowInOut(2));\n        createjs.Tween.get(start, { loop: false })\n          .to({ alpha: 1 }, 0, createjs.Ease.getPowInOut(2))\n          .to({ alpha: 0 }, 600, createjs.Ease.getPowInOut(2));\n\n        resetGame();\n\n        gameStarted = true;\n      }\n    }, 200);\n  }\n\n  function resetGame() {\n    viking.x = stage.canvas.width / 2;\n    viking.y = 365;\n    gameOver = 0;\n    isVikingDown = false;\n    metters = 0;\n    gameRestarted = true;\n    gameSpeed = 0;\n  }\n\n  function colisionDetect(caracter, objects, speedImpact, react = null) {\n    if (gameStarted) {\n      objects.forEach(object => {\n        if (\n          caracter.x < object.x + object.getBounds().width &&\n          caracter.x > object.x - object.getBounds().width // check colision in the x axis\n        ) {\n          if (\n            caracter.y < object.y + object.getBounds().height &&\n            caracter.y > object.y - object.getBounds().height // check colision in the x axis\n          ) {\n            caracter.x = caracter.x - (speedImpact + gameSpeed);\n            gameOver = gameOver === 0 ? 1 : 2; // 0 - false, 1- true, 2- reset\n\n            if (react) {\n              createjs.Tween.get(caracter, { loop: false }).to(\n                { rotation: -360 },\n                600\n              );\n            }\n          }\n        }\n      });\n    }\n  }\n\n  function handleGameOver() {\n    if (gameOver === 1) {\n      props = new createjs.PlayPropsConfig().set({\n        interrupt: createjs.Sound.INTERRUPT_ANY,\n        loop: 0,\n        volume: 1\n      });\n      createjs.Sound.play(\"gameOver\", props);\n      createjs.Sound.play(\"gameOverSong\", props);\n      arrow.setVolume(0);\n      createjs.Tween.get(gameOverImage, { loop: false })\n        .to({ alpha: 1 }, 0)\n        .to({ scaleX: 0.8, scaleY: 0.8 }, 0, createjs.Ease.getPowInOut(2))\n        .to({ scaleX: 1.2, scaleY: 1.2 }, 150, createjs.Ease.getPowInOut(2))\n        .to({ scaleX: 1, scaleY: 1 }, 250, createjs.Ease.getPowInOut(2));\n      createjs.Tween.get(start, { loop: false })\n        .to({ alpha: 0 }, 1000, createjs.Ease.getPowInOut(2))\n        .to({ alpha: 1 }, 700, createjs.Ease.getPowInOut(2));\n      gameOver = 2;\n      gameRestarted = false;\n      saveScore(metters);\n      bestScoreText.text = `Best: ${getScore()} m`;\n      gameSpeed = 0;\n    }\n  }\n\n  function moveViking(speed, height) {\n    let initialVikingY = 365;\n    if (isVikingMoving && gameStarted && !gameOver) {\n      viking.y = viking.y - speed;\n      if (viking.y < initialVikingY - height) {\n        isVikingMoving = false;\n      }\n    }\n    if (\n      !isVikingMoving &&\n      viking.y < initialVikingY &&\n      gameStarted &&\n      !gameOver\n    ) {\n      viking.y = viking.y + speed;\n      isVikingDown = true;\n      if (viking.y == initialVikingY) {\n        props = new createjs.PlayPropsConfig().set({\n          interrupt: createjs.Sound.INTERRUPT_ANY,\n          loop: 0,\n          volume: 0.5\n        });\n        createjs.Sound.play(\"land\", props);\n        isVikingDown = false;\n      }\n    }\n    if (keyPressedLeft && gameStarted && !gameOver) {\n      // Move vicking x\n      viking.x = viking.x - 5;\n      if (viking.x < 0) {\n        viking.x = 0;\n      }\n    }\n    if (keyPressedRight && gameStarted && !gameOver) {\n      viking.x = viking.x + 5;\n      if (viking.x > stage.canvas.width) {\n        viking.x = stage.canvas.width;\n      }\n    }\n  }\n\n  function moveInCanvas(item, speed, distance) {\n    if (item.speed) {\n      item.x -= item.speed + gameSpeed;\n    }\n    item.x -= speed + gameSpeed;\n    if (item.x + distance < 0) {\n      item.x = stage.canvas.width + distance;\n    }\n  }\n  function increaseSpeed() {\n    gameSpeed += 0.001;\n    //console.log(gameSpeed);\n  }\n  function tick(e) {\n    //ground.x = (viking.x + e.delta * 0.5) % stage.canvas.width;\n    grounds.forEach(ground => {\n      moveInCanvas(ground, 6, 100);\n    });\n    moveInCanvas(castle, 1.5, 600);\n\n    trees.forEach(tree => {\n      moveInCanvas(tree, 6, 50);\n    });\n    arrowTargets.forEach(target => {\n      moveInCanvas(target, 4, 950);\n    });\n\n    rocks.forEach(rock => {\n      moveInCanvas(rock, 6, 250);\n    });\n\n    arrows.forEach(arrow => {\n      moveInCanvas(arrow, 15, 2000);\n    });\n\n    arrowsDecoration.forEach(arrow => {\n      moveInCanvas(arrow, 12, 900);\n    });\n\n    clouds.forEach(cloud => {\n      moveInCanvas(cloud, 0.9, 900);\n    });\n\n    moveViking(4.3, 75);\n\n    colisionDetect(viking, rocks, 6, true);\n\n    colisionDetect(viking, arrows, 17, true);\n\n    score();\n\n    handleGameOver();\n\n    increaseSpeed();\n  }\n\n  function score() {\n    if (gameStarted && !gameOver) {\n      metters += 0.1;\n      scoreText.text = `Distance: ${metters.toFixed(2)} m`;\n    }\n  }\n\n  function saveScore(score) {\n    if (localStorage.getItem(\"score\")) {\n      const lastScore = parseFloat(localStorage.getItem(\"score\"));\n      if (lastScore < score) {\n        localStorage.setItem(\"score\", score);\n      }\n    } else {\n      localStorage.setItem(\"score\", score);\n    }\n  }\n\n  function getScore(score) {\n    if (localStorage.getItem(\"score\")) {\n      return parseFloat(localStorage.getItem(\"score\")).toFixed(2);\n    }\n    return 0;\n  }\n\n  function initScene() {\n    window.onkeyup = keyUpHandler;\n    window.onkeydown = keyDownHandler;\n    window.onclick = jumpViking;\n\n    stage.on(\"stagemousemove\", () => {\n      if (gameStarted && gameOver == 0) viking.x = stage.mouseX;\n    });\n\n    for (let i = 1; i < 30; i++) {\n      let cloud = new createjs.Sprite(spriteSheet, \"cloud\");\n      let x = Math.random() * (900 - 100) + 100;\n      let y = Math.random() * (200 - 30) + 30;\n      cloud.x = i * x;\n      cloud.y = y;\n      clouds.push(cloud);\n      stage.addChild(cloud);\n    }\n\n    castle = new createjs.Sprite(spriteSheet, \"castle\");\n    castle.x = 180;\n    castle.y = 330;\n    stage.addChild(castle);\n\n    for (let i = 1; i < 2; i++) {\n      target = new createjs.Sprite(spriteSheet, \"arrowtarget\");\n      target.x = 250 * i;\n      target.y = 394;\n      arrowTargets.push(target);\n      stage.addChild(target);\n    }\n\n    for (let i = 0; i < 30; i++) {\n      let ground = new createjs.Sprite(spriteSheet, \"ground\");\n      ground.x = i * 180;\n      ground.y = 410;\n      grounds.push(ground);\n      stage.addChild(ground);\n    }\n\n    for (let i = 1; i < 5; i++) {\n      let tree = new createjs.Sprite(spriteSheet, \"tree\");\n      let y = 218;\n      let t = Math.random() * (5 - 1) + 1;\n      tree.x = t * 900;\n      tree.y = y;\n      trees.push(tree);\n      stage.addChild(tree);\n    }\n\n    viking = new createjs.Sprite(spriteSheet, \"viking\");\n    viking.x = stage.canvas.width / 2;\n    viking.y = 365;\n    viking.setBounds(viking.regX, viking.regY, 50, 50);\n    stage.addChild(viking);\n\n    for (let i = 1; i < 2; i++) {\n      let arrow = new createjs.Sprite(spriteSheet, \"arrow\");\n      let y = Math.random() * (312 - 290) + 290;\n      let x = Math.random() * (900 - 1) + 1;\n      arrow.x = stage.canvas.width + x;\n      arrow.y = y;\n      arrow.setBounds(viking.regX, viking.regY, 10, 50);\n      arrows.push(arrow);\n      stage.addChild(arrow);\n    }\n\n    for (let i = 1; i < 5; i++) {\n      let arrow = new createjs.Sprite(spriteSheet, \"arrow\");\n      let y = Math.random() * (250 - 200) + 200;\n      let x = Math.random() * (900 - 1) + 1;\n      arrow.x = stage.canvas.width + x;\n      arrow.y = y;\n      arrow.speed = i * 2;\n      arrow.setBounds(arrow.regX, arrow.regY, 2, 5);\n      arrowsDecoration.push(arrow);\n      stage.addChild(arrow);\n    }\n\n    for (let i = 1; i < 3; i++) {\n      let rock = new createjs.Sprite(spriteSheet, \"rock\");\n      let y = 400;\n      let t = Math.random() * (900 - 0) + 0;\n      rock.setBounds(rock.regX, rock.regY, 40, 40);\n      rock.x = i * 900 + t;\n      rock.y = y;\n      rocks.push(rock);\n      stage.addChild(rock);\n    }\n\n    for (let i = 1; i < 3; i++) {\n      let tree = new createjs.Sprite(spriteSheet, \"tree\");\n      let y = Math.random() * (298 - 238) + 218;\n      tree.x = i * 900;\n      tree.y = y;\n      trees.push(tree);\n      stage.addChild(tree);\n    }\n\n    logo = new createjs.Sprite(spriteSheet, \"logo\");\n    logo.x = stage.canvas.width / 2;\n    logo.y = stage.canvas.height / 2 - 90;\n    stage.addChild(logo);\n\n    gameOverImage = new createjs.Sprite(spriteSheet, \"gameOver\");\n    gameOverImage.x = stage.canvas.width / 2;\n    gameOverImage.y = stage.canvas.height / 2 - 90;\n    createjs.Tween.get(gameOverImage, { loop: false }).to({ alpha: 0 }, 0);\n    stage.addChild(gameOverImage);\n\n    start = new createjs.Sprite(spriteSheet, \"start\");\n    start.x = stage.canvas.width / 2;\n    start.y = stage.canvas.height - 40;\n    start.addEventListener(\"click\", handleStart);\n    stage.addChild(start);\n\n    scoreText = new createjs.Text(\n      `Distance: ${metters} m`,\n      \"23px Impact\",\n      \"#fff\"\n    );\n    scoreText.x = 20;\n    scoreText.y = stage.canvas.height - 40;\n    stage.addChild(scoreText);\n\n    bestScoreText = new createjs.Text(\n      `Best: ${getScore()} m`,\n      \"23px Impact\",\n      \"#fff\"\n    );\n    bestScoreText.x = stage.canvas.width - 150;\n    bestScoreText.y = stage.canvas.height - 40;\n    stage.addChild(bestScoreText);\n\n    createjs.Ticker.on(\"tick\", tick);\n\n    createjs.Ticker.timingMode = createjs.Ticker.RAF;\n    createjs.Ticker.addEventListener(\"tick\", stage);\n  }\n};\n"],"sourceRoot":""}